import { BlobEntry } from '../blobs/entry';

const CONT_SEPARATOR = ' \\\n    '

export interface ProductMakefile {
  namespaces: Array<string>
  copyFiles: Array<string>
  packages: Array<string>
}

export interface BoardMakefile {
}

export function blobToFileCopy(entry: BlobEntry, proprietaryDir: string) {
  let copyPart = entry.partition.toUpperCase()
  return `${proprietaryDir}/${entry.srcPath}:$(TARGET_COPY_OUT_${copyPart})/${entry.path}`
}

export function serializeProductMakefile(makefile: ProductMakefile) {
  return `# Generated by adevtool; do not edit

PRODUCT_SOONG_NAMESPACES += \\
    ${makefile.namespaces.join(CONT_SEPARATOR)}

PRODUCT_COPY_FILES += \\
    ${makefile.copyFiles.join(CONT_SEPARATOR)}

PRODUCT_PACKAGES += \\
    ${makefile.packages.join(CONT_SEPARATOR)}
`
}

export function serializeBoardMakefile(makefile: BoardMakefile) {
  return `# Generated by adevtool; do not edit
`
}
